<template>
  <div id="compare-chart-container">
    <div class="compare">
      <div
        class="btn-group"
        data-toggle="buttons"
      >
        <h4 class="butt-head">
          Show: 
        </h4> 
        <div class="inputsContainer">
          <div class="inputs">
            <input
              id="cb-swe1"
              class="butt"
              type="checkbox"
              name="checkboxgroup2"
              checked="true"
              value="swe"
              @change="showSWE1"
            >
            <label
              class="butt"
              for="cb-swe1"
            >SWE (inches)</label>
            <input
              id="cb-disch1"
              class="butt"
              type="checkbox"
              name="checkboxgroup1"
              checked="true"
              value="flow"
              @change="showFlow1"
            >
            <label
              class="butt"
              for="cb-disch1"
            >Streamflow (<sup>mm</sup>&frasl;<sub>day</sub>)</label>
          </div>
        </div>
      </div>
    </div>    
    <svg
      id="compare-chart"
      viewBox="0 0 800 350"
    >
      <defs>
        <mask id="dischargeMask">
          <rect
            id="discharge-reveal-rect" 
            x="83.5"
            y="0"
            width="640"
            height="400"    
            fill="#fff"
          />
        </mask>
        <mask id="sweMask">
          <rect
            id="swe-reveal-rect" 
            x="83.5"
            y="0"
            width="640"
            height="400"    
            fill="#fff"
          />
        </mask>
      </defs>
      <g id="xAxis">
        <g>
          <polyline
            class="axis-tick"
            points="64.9 111.2 64.9 307.5 733.6 307.5 733.6 110"
          />
          <line
            class="axis-tick"
            x1="65.2"
            y1="310.3"
            x2="65.2"
            y2="315.1"
          />
          <line
            class="axis-tick"
            x1="397.9"
            y1="310.3"
            x2="397.9"
            y2="315.1"
          />
          <line
            class="axis-tick"
            x1="231.5"
            y1="310.3"
            x2="231.5"
            y2="315.1"
          />
          <line
            class="axis-tick"
            x1="564.3"
            y1="310.3"
            x2="564.3"
            y2="315.1"
          />
        </g>
        <text
          class="axis-label"
          transform="translate(58.4 330.6)"
        >Oct</text>
        <text
          class="axis-label"
          transform="translate(391.9 330.6)"
        >Oct</text>
        <text
          class="axis-label"
          transform="translate(226.2 330.6)"
        >Apr</text>
        <text
          class="axis-label"
          transform="translate(559.6 330.6)"
        >Apr</text>
        <text
          class="year-label"
          transform="translate(120 300)"
        >2011</text>
        <text
          class="year-label"
          transform="translate(460 300)"
        >2012</text>
      </g>
      <g id="hash-lines">       
        <line
          class="hash-line"
          x1="727"
          y1="306.4"
          x2="67"
          y2="306.4"
        />
        <line
          class="hash-line"
          x1="727"
          y1="241.7"
          x2="67"
          y2="241.7"
        />
        <line
          class="hash-line"
          x1="727"
          y1="176.2"
          x2="67"
          y2="176.2"
        />
        <line
          class="hash-line"
          x1="727"
          y1="110.8"
          x2="67"
          y2="110.8"
        />
      </g>
      <g
        id="area-swe"
        mask="url(#sweMask)"
        class="swe-cb"
      >
        <polygon 
          class="area swe swe-area brush" 
          points="70.5 305.9 70.2 304.7 71 304.7 71.9 304.7 73 304.7 73.8 304.7 74.7 304.7 75.6 304.7 76.5 304.7 77.4 303.4 78.2 301.9 79.3 302.3 80.2 301.9 81 302 81.9 302.7 82.8 303.5 83.7 304 84.6 304.3 85.4 303.7 86.5 303.8 87.4 304.2 88.2 304.7 89.1 300.3 90 296.9 90.9 295.2 91.8 292.4 92.8 291.6 93.7 292.2 94.6 291.2 95.4 289.8 96.3 288.9 97.2 288.5 98.1 288.5 99 288.5 100 288.5 100.9 288.2 101.8 287.5 102.6 287.6 103.5 287.6 104.4 287.1 105.3 284.9 106.2 285.4 107.2 284.2 108.1 284.6 109 282.8 109.8 281.9 110.7 278.2 111.6 272.8 112.5 273.2 113.5 271.7 114.4 271.8 115.3 270.9 116.2 267.4 117 266.9 117.9 265.4 118.8 265.7 119.7 265.4 120.7 264.9 121.6 264.9 122.5 263.5 123.4 263.8 124.2 262.7 125.1 261.6 126 261.8 127 262 127.9 260.5 128.8 259.9 129.7 257.5 130.6 257.2 131.4 257.1 132.3 256.4 133.2 256.1 134.2 256.2 135.1 255.5 136 255.3 136.9 255.1 137.8 253.3 138.6 254.5 139.5 252.1 140.6 249.4 141.4 246.1 142.3 241.6 143.2 240.6 144.1 239.6 145 239.6 145.8 238.7 146.7 239.9 147.8 239.2 148.6 239.6 149.5 239.4 150.4 239.4 151.3 239.1 152.2 239.1 153 238.9 154.1 238.1 155 237.9 155.8 237.4 156.7 237.9 157.6 237.7 158.5 238.1 159.4 237.6 160.2 237.4 161.3 237.5 162.2 236.5 163 237.8 163.9 237.2 164.8 237.4 165.7 236.2 166.6 234.6 167.6 230.8 168.5 229.4 169.4 227.9 170.2 226.5 171.1 225.7 172 223.9 172.9 222.3 173.8 222 174.8 221 175.7 221.5 176.6 221.3 177.4 221.5 178.3 221.3 179.2 221.7 180.1 220.6 181.1 221.2 182 220 182.9 221.4 183.8 218.4 184.6 213.3 185.5 212.4 186.4 209.4 187.3 209.9 188.3 209 189.2 208.8 190.1 208.4 191 208.1 191.8 207.9 192.7 207.7 193.6 208.8 194.6 207.1 195.5 206.9 196.4 204.9 197.3 205 198.2 204.6 199 205 199.9 205 200.8 204.2 201.8 201.9 202.7 199.1 203.6 198.8 204.5 198.2 205.4 197.2 206.2 195.8 207.1 195.2 208 194.4 209 196.7 209.9 196 210.8 194.8 211.7 193.2 212.6 192.7 213.4 192.2 214.3 192.2 215.4 191.9 216.2 188.3 217.1 187.5 218 185.6 218.9 185.6 219.8 183.5 220.6 177.7 221.5 176.7 222.6 176.9 223.4 176.9 224.3 175.9 225.2 175.8 226.1 174.8 227 174.7 227.8 174.3 228.9 172.3 229.8 171.4 230.6 169.6 231.5 167.9 232.4 167.2 233.3 165.7 234.2 163.3 235 162.8 236.1 159.8 237 158.6 237.8 158.3 238.7 156.6 239.6 156.4 240.5 156.4 241.4 155.5 242.4 153.8 243.3 153.7 244.2 153.6 245 152 245.9 148.3 246.8 147.6 247.7 147.2 248.6 144 249.6 140.5 250.5 140.1 251.4 136.3 252.2 132.4 253.1 131.4 254 130.6 254.9 127.9 255.9 125.3 256.8 123.5 257.7 123.1 258.6 122.5 259.4 118.8 260.3 118.1 261.2 117.8 262.1 117.1 263.1 116.8 264 116.5 264.9 116 265.8 116.2 266.6 116.3 267.5 115.1 268.4 116.4 269.4 115.7 270.3 112.5 271.2 110.8 272.1 110.9 273 110.3 273.8 110.5 274.7 110.7 275.6 110.7 276.6 108 277.5 105.6 278.4 104.4 279.3 100.9 280.2 100.8 281 100.9 281.9 99.7 283 99.6 283.8 98.6 284.7 97.3 285.6 97.1 286.5 96.1 287.4 96.9 288.2 97 289.1 95.7 290.2 95.7 291 95.7 291.9 95.8 292.8 96.2 293.7 96.7 294.6 97.5 295.4 97.1 296.5 97.5 297.4 98.4 298.2 103.1 299.1 107.8 300 113 300.9 117.1 301.8 122.7 302.6 129.1 303.7 127.9 304.6 134.8 305.4 138.4 306.3 138.6 307.2 142.5 308.1 145.8 309 156.3 309.8 164.5 310.9 172 311.8 180.1 312.6 183.6 313.5 193 314.4 205.8 315.3 213.6 316.2 223.4 317.2 247.5 318.1 258.2 319 265.7 319.8 271.2 320.7 276.9 321.6 282.5 322.5 288 323.4 292.6 324.4 297.4 325.3 302.3 326.2 304.7 327 304.7 327.9 304.7 328.8 304.7 329.7 304.7 330.7 304.7 331.6 304.7 332.5 304.7 333.4 304.7 334.2 304.7 335.1 304.7 336 304.7 336.9 304.7 337.9 304.7 338.8 304.7 339.7 304.7 340.6 304.7 341.4 304.7 342.3 304.7 343.2 304.7 344.2 304.7 345.1 304.7 346 304.7 346.9 304.7 347.8 304.7 348.6 304.7 349.5 304.7 350.4 304.7 351.4 304.7 352.3 304.7 353.2 304.7 354.1 304.7 355 304.7 355.8 304.7 356.7 304.7 357.8 304.7 358.6 304.7 359.5 304.7 360.4 304.7 361.3 304.7 362.2 304.7 363 304.7 363.9 304.7 365 304.7 365.8 304.7 366.7 304.7 367.6 304.7 368.5 304.7 369.4 304.7 370.2 304.7 371.3 304.7 372.2 304.7 373 304.7 373.9 304.7 374.8 304.7 375.7 304.7 376.6 304.7 377.4 304.7 378.5 304.7 379.4 304.7 380.2 304.7 381.1 304.7 382 304.7 382.9 304.7 383.8 304.7 384.8 304.7 385.7 304.7 386.6 304.7 387.4 304.7 388.3 304.7 389.2 304.7 390.1 304.7 391 304.7 392 304.7 392.9 304.7 393.8 304.7 394.6 304.7 395.5 304.7 396.4 304.7 397.3 304.7 398.2 304.7 399.2 304.7 400.1 304.7 401 304.7 401.8 304.7 402.7 304.7 403.6 304.5 404.5 304.3 405.5 302.5 406.4 302.5 407.3 302.6 408.2 301.5 409 301.9 409.9 301.8 410.8 302.6 411.7 303 412.7 304.6 413.6 302.8 414.5 303 415.4 302.8 416.2 303 417.1 303.3 418 303.3 419 303.1 419.9 304 420.8 299.9 421.7 298.5 422.6 298.1 423.4 297.9 424.3 297.9 425.2 297.9 426.2 297.4 427.1 294.1 428 293.5 428.9 293.4 429.8 292.5 430.6 292.2 431.5 291.8 432.6 291.5 433.4 291.5 434.3 291.2 435.2 291.4 436.1 290.9 437 289.3 437.8 286.6 438.7 286.4 439.8 285.9 440.6 285.9 441.5 285.6 442.4 285.3 443.3 283.6 444.2 283.4 445 282.4 446.1 282.4 447 281 447.8 281.6 448.7 280 449.6 280.4 450.5 279.7 451.4 279.7 452.2 279.7 453.3 278.9 454.2 278 455 277.5 455.9 276.7 456.8 276.6 457.7 276.6 458.6 276.3 459.6 275.8 460.5 275 461.4 275 462.2 275 463.1 275 464 275.3 464.9 274.9 465.8 274.9 466.8 274.8 467.7 274.8 468.6 274.8 469.4 274.8 470.3 274.8 471.2 273.3 472.1 274 473.1 273.6 474 273.5 474.9 272.1 475.8 273.3 476.6 273.3 477.5 272.1 478.4 273.1 479.3 271.7 480.3 271.3 481.2 270.6 482.1 270.4 483 270.4 483.8 270.5 484.7 270.5 485.6 270.5 486.6 270.5 487.5 269.9 488.4 269.6 489.3 269.5 490.2 269.2 491 268.7 491.9 268.7 492.8 268.2 493.8 268.4 494.7 268.4 495.6 267.9 496.5 266.4 497.4 266.3 498.2 265.7 499.1 264.9 500 262.9 501 261.6 501.9 261.8 502.8 261.5 503.7 261.7 504.6 261 505.4 261 506.3 261.2 507.4 261.5 508.2 262.1 509.1 260.8 510 260.8 510.9 259.6 511.8 259.6 512.6 261.5 513.5 261.2 514.6 260.4 515.4 260.1 516.3 259.5 517.2 258.5 518.1 257.1 519 257.1 519.8 255.9 520.9 254.9 521.8 254.1 522.6 254.1 523.5 254 524.4 254 525.3 252.4 526.2 253.7 527 252.5 528.1 252.5 529 250 529.8 248.3 530.7 247.8 531.6 247.8 532.5 246.5 533.4 246.8 534.4 245.3 535.3 244.8 536.2 243.2 537 243.1 537.9 241.8 538.8 241.9 539.7 241.7 540.6 242.1 541.6 242.9 542.5 243.1 543.4 243.3 544.2 243.2 545.1 243.2 546 243.3 546.9 241.4 547.9 241.3 548.8 241 549.7 242.8 550.6 243.1 551.4 243.2 552.3 243.1 553.2 242.8 554.1 242.9 555.1 244.1 556 246.3 556.9 247 557.8 247.1 558.6 245.6 559.5 248.2 560.4 248.2 561.4 249.4 562.3 250.1 563.2 249.6 564.1 250.4 565 250 565.8 249.8 566.7 249.7 567.6 247.3 568.6 248.5 569.5 248.9 570.4 249.5 571.3 251.5 572.2 254.1 573 255.9 573.9 256.9 575 255 575.8 254.4 576.7 248.6 577.6 251.5 578.5 250.8 579.4 246.2 580.2 244.5 581.1 244.1 582.2 244.5 583 246.3 583.9 248 584.8 245.9 585.7 246.5 586.6 247.3 587.4 249.6 588.3 249.8 589.4 248.8 590.2 249.1 591.1 249.2 592 250.6 592.9 252.9 593.8 258.8 594.6 262.5 595.7 262.4 596.6 262.1 597.4 272.8 598.3 286 599.2 288.8 600.1 288.6 601 290.2 601.8 290.1 602.9 291 603.8 284.3 604.6 287.8 605.5 290.9 606.4 294 607.3 296.9 608.2 297.7 609.2 295.9 610.1 301.2 611 299.1 611.8 300.4 612.7 303 613.6 304.6 614.5 304.7 615.4 304.7 616.4 304.7 617.3 304.7 618.2 304.7 619 304.7 619.9 304.7 620.8 304.7 621.7 304.7 622.7 304.7 623.6 304.7 624.5 304.7 625.4 304.7 626.2 304.7 627.1 304.7 628 304.7 628.9 304.7 629.9 304.7 630.8 304.7 631.7 304.7 632.6 304.7 633.4 304.7 634.3 304.7 635.2 304.7 636.2 304.7 637.1 304.7 638 304.7 638.9 304.7 639.8 304.7 640.6 304.7 641.5 304.7 642.4 304.7 643.4 304.7 644.3 304.7 645.2 304.7 646.1 304.7 647 304.7 647.8 304.7 648.7 304.7 649.8 304.7 650.6 304.7 651.5 304.7 652.4 304.7 653.3 304.7 654.2 304.7 655 304.7 655.9 304.7 657 304.7 657.8 304.7 658.7 304.7 659.6 304.7 660.5 304.7 661.4 304.7 662.2 304.7 663.3 304.7 664.2 304.7 665 304.7 665.9 304.7 666.8 304.7 667.7 304.7 668.6 304.7 669.4 304.7 670.5 304.7 671.4 304.7 672.2 304.7 673.1 304.7 674 304.7 674.9 304.7 675.8 304.7 676.8 304.7 677.7 304.7 678.6 304.7 679.4 304.7 680.3 304.7 681.2 304.7 682.1 304.7 683 304.7 684 304.7 684.9 304.7 685.8 304.7 686.6 304.7 687.5 304.7 688.4 304.7 689.3 304.7 690.2 304.7 691.2 304.7 692.1 304.7 693 304.7 693.8 304.7 694.7 304.7 695.6 304.7 696.5 304.7 697.5 304.7 698.4 304.7 699.3 304.7 700.2 304.7 701 304.7 701.9 304.7 702.8 304.7 703.7 304.7 704.7 304.7 705.6 304.7 706.5 304.7 707.4 304.7 708.2 304.7 709.1 304.7 710 304.7 711 304.7 711.9 304.7 712.8 304.7 713.7 304.7 714.6 304.7 715.4 304.7 716.3 304.7 717.2 304.7 718.2 304.7 719.1 304.7 720 304.7 720.9 304.7 721.8 304.7 722.6 304.7 723.5 304.7 724.6 304.7 725.4 304.7 726.3 304.7 726 305.9 70.5 305.9"
        />
      </g>
      <g 
        id="area-discharge"
        mask="url(#dischargeMask)"
      >
        <polygon
          class="area discharge-cb discharge discharge-area"
          points="72.3 305.9 73.3 303.2 74 303.2 75 303.2 75.9 303.2 76.7 303.2 77.6 303.2 78.6 302.9 79.3 302.6 80.3 302.4 81.3 301.8 82.3 302.1 83 302.6 84 302.9 84.9 302.9 85.7 302.9 86.6 302.9 87.6 302.9 88.6 302.6 89.3 302.9 90.3 303.2 91.3 302.9 92 302.6 93 302.6 93.9 302.6 94.7 302.9 95.6 302.9 96.6 302.9 97.6 302.9 98.3 302.9 99.3 302.9 100.2 302.9 101 302.9 101.9 302.9 102.9 302.9 103.9 302.9 104.6 302.9 105.6 302.9 106.6 302.9 107.3 303.2 108.3 303.2 109.2 303.2 110 303.2 110.9 303.2 111.9 303.4 112.9 303.4 113.6 303.4 114.6 303.4 115.5 303.4 116.3 303.4 117.2 303.4 118.2 303.4 119.2 303.7 119.9 303.7 120.9 303.7 121.9 303.7 122.6 303.7 123.6 303.7 124.5 303.7 125.3 303.7 126.2 303.7 127.2 303.7 128.2 303.7 128.9 304 129.9 304 130.8 304 131.6 304 132.6 303.7 133.5 303.7 134.5 303.7 135.2 304 136.2 304 137.2 304 137.9 303.7 138.9 304 139.8 304 140.6 304 141.5 304 142.5 304 143.5 304 144.2 304 145.2 303.7 146.2 303.7 146.9 303.7 147.9 303.7 148.8 303.7 149.8 303.7 150.5 303.7 151.5 303.7 152.5 303.7 153.2 303.7 154.2 303.7 155.1 303.7 155.9 303.7 156.8 303.7 157.8 303.7 158.8 303.7 159.5 303.7 160.5 303.7 161.5 303.7 162.2 303.7 163.2 303.7 164.1 303.7 164.9 303.7 165.8 303.7 166.8 303.7 167.8 303.7 168.5 303.7 169.5 303.7 170.4 303.4 171.2 303.4 172.1 303.4 173.1 303.4 174.1 303.4 174.8 303.4 175.8 303.4 176.8 303.4 177.5 303.4 178.5 303.4 179.4 303.4 180.2 303.4 181.1 303.4 182.1 303.4 183.1 303.4 183.8 303.4 184.8 303.4 185.8 303.4 186.5 303.4 187.5 303.4 188.4 303.4 189.4 303.7 190.1 303.7 191.1 303.4 192.1 303.4 192.8 303.4 193.8 303.4 194.7 303.4 195.5 303.4 196.4 303.4 197.4 303.4 198.4 303.4 199.1 303.4 200.1 303.4 201.1 303.4 201.8 303.4 202.8 303.4 203.7 303.4 204.7 303.4 205.4 303.4 206.4 303.4 207.4 303.4 208.1 303.4 209.1 303.4 210 303.4 210.8 303.4 211.7 303.2 212.7 302.6 213.7 302.9 214.4 302.9 215.4 302.6 216.4 302.9 217.1 303.4 218.1 303.4 219 303.4 220 302.9 220.7 302.9 221.7 302.9 222.7 302.9 223.4 302.9 224.4 302.9 225.3 303.2 226.1 303.2 227 303.4 228 303.4 229 303.7 229.7 304 230.7 304 231.7 303.7 232.4 303.7 233.4 303.4 234.3 302.9 235.3 302.6 236 302.6 237 302.9 238 302.6 238.7 302.9 239.7 302.4 240.7 302.4 241.4 302.4 242.4 302.6 243.3 302.6 244.3 302.4 245 302.4 246 302.1 247 302.1 247.7 302.1 248.7 302.4 249.6 302.1 250.4 302.1 251.3 302.1 252.3 302.1 253.3 302.1 254 302.1 255 302.1 256 302.1 256.7 302.1 257.7 302.1 258.6 302.1 259.6 302.1 260.3 302.1 261.3 302.1 262.3 302.1 263 302.1 264 302.1 264.9 302.1 265.7 302.1 266.6 302.1 267.6 302.1 268.6 302.1 269.3 301.8 270.3 301.5 271.3 301.5 272 301.3 273 301.3 273.9 301 274.9 301 275.6 300.4 276.6 300.4 277.6 300.4 278.3 300.2 279.3 300.2 280.2 296.6 281 287.5 281.9 273.2 282.9 265.3 283.9 281.5 284.6 293.6 285.6 299.1 286.6 298.8 287.3 298.5 288.3 289.4 289.2 296 290.2 293.6 290.9 289.4 291.9 282.8 292.9 280.7 293.6 277.9 294.6 272.7 295.6 267.2 296.3 264.7 297.3 262.8 298.2 262 299.2 261.4 299.9 257 300.9 251.3 301.9 245.8 302.6 227.4 303.6 188.4 304.5 198.2 305.5 216.7 306.2 228.5 307.2 236.7 308.2 238.9 308.9 241.4 309.9 232.6 310.9 220.5 311.6 205.7 312.6 194.1 313.5 177.6 314.5 168.3 315.2 159.5 316.2 127.7 317.2 99.1 317.9 112.8 318.9 113.9 319.8 119.7 320.8 123 321.5 141.9 322.5 114.5 323.5 101.6 324.2 48 325.2 171.9 326.2 200.2 326.9 130.4 327.9 143.9 328.8 112.8 329.8 149.6 330.5 182.6 331.5 197.4 332.5 205.9 333.2 191.9 334.2 140.6 335.1 216.7 336.1 238.9 336.8 245.5 337.8 250.7 338.8 253.7 339.5 254.8 340.5 255.4 341.5 257.3 342.2 259.8 343.2 262 344.1 263.9 345.1 263.9 345.8 260.3 346.8 262.2 347.8 265.3 348.5 268.3 349.5 271 350.5 273 351.2 274.6 352.2 275.7 353.1 276.8 354.1 281.2 354.8 284.5 355.8 285.6 356.8 285.6 357.5 283.7 358.5 285 359.4 285 360.4 285.6 361.1 285.6 362.1 285.6 363.1 285.9 363.8 286.4 364.8 286.4 365.8 286.4 366.5 287.5 367.5 288.3 368.4 285.3 369.4 287.2 370.1 287.5 371.1 286.4 372.1 288.3 372.8 289.2 373.8 289.7 374.7 290 375.7 290.3 376.4 290.5 377.4 291.1 378.4 286.1 379.1 287.2 380.1 296.6 381.1 296.6 381.8 296.9 382.8 297.1 383.7 297.7 384.7 298 385.4 298 386.4 292.5 387.4 297.1 388.1 295.2 389.1 296.9 390 297.7 391 297.7 391.8 298 392.7 298.5 393.7 299.3 394.4 299.9 395.4 300.4 396.4 301 397.1 301.3 398.1 301.5 399 302.1 400 298.8 400.7 302.1 401.7 302.1 402.7 302.1 403.4 301 404.4 301.3 405.4 301.5 406.3 301.8 407.1 301.8 408 301 409 302.4 409.7 301.8 410.7 300.7 411.7 301.5 412.4 301.5 413.4 301.3 414.3 301 415.3 295.5 416 299.3 417 299.6 418 300.2 418.7 300.7 419.7 300.7 420.7 301.3 421.6 301.5 422.4 300.2 423.3 301 424.3 301.3 425 302.4 426 302.6 427 302.6 427.7 302.6 428.7 302.6 429.6 302.6 430.6 302.6 431.3 302.6 432.3 302.6 433.3 302.9 434 302.9 435 302.9 436 302.9 436.9 302.9 437.7 302.9 438.6 302.9 439.6 302.9 440.3 302.9 441.3 302.9 442.3 302.9 443 303.2 444 303.2 444.9 303.2 445.9 303.2 446.7 303.2 447.6 303.2 448.6 303.2 449.3 303.2 450.3 303.2 451.3 303.4 452 303.4 453 303.4 453.9 303.4 454.9 303.4 455.6 303.4 456.6 303.4 457.6 303.4 458.3 303.4 459.3 303.4 460.3 303.4 461.2 303.4 462 303.7 462.9 303.7 463.9 303.7 464.6 303.7 465.6 303.7 466.6 303.7 467.3 303.7 468.3 303.7 469.2 303.7 470.2 303.7 470.9 303.7 471.9 303.7 472.9 303.7 473.6 303.7 474.6 303.7 475.6 304 476.5 304 477.3 304 478.2 304 479.2 304 479.9 304 480.9 304 481.9 304 482.6 304 483.6 304 484.5 304 485.5 304 486.2 304 487.2 304 488.2 304 488.9 304 489.9 304 490.9 304 491.8 304 492.6 304 493.5 304 494.5 304 495.2 304 496.2 304 497.2 304 497.9 304 498.9 304 499.9 304 500.8 304 501.6 304 502.5 304 503.5 304 504.2 304 505.2 304 506.2 304 507.1 304 507.9 304 508.8 304 509.8 304 510.5 304 511.5 304 512.5 304 513.2 304 514.2 304 515.2 304.3 516.1 304.3 516.9 304.3 517.8 304.3 518.8 304.3 519.5 304.3 520.5 304.3 521.5 304.3 522.4 304.3 523.2 304.3 524.1 304.3 525.1 304.3 525.8 304.3 526.8 304.3 527.8 304.3 528.5 304.3 529.5 304.3 530.5 304.3 531.4 304.3 532.2 304.3 533.1 304.3 534.1 304.3 534.8 304.3 535.8 304.3 536.8 304.5 537.5 304.5 538.5 304.5 539.4 304.5 540.4 304.5 541.1 304.5 542.1 304.5 543.1 304.3 543.8 304.3 544.8 304.5 545.8 304.5 546.7 304.3 547.5 304.3 548.4 304.3 549.4 304.3 550.1 304.3 551.1 304 552.1 304 552.8 304 553.8 304 554.8 304 555.7 304 556.5 304.3 557.4 304 558.4 303.2 559.1 302.6 560.1 302.4 561.1 302.4 562 301.8 562.8 301.3 563.7 300.7 564.7 299.6 565.4 298.5 566.4 298.8 567.4 300.4 568.1 300.7 569.1 300.4 570.1 300.2 571 299.9 571.8 300.2 572.7 298.8 573.7 297.7 574.4 296 575.4 296.3 576.4 298.2 577.3 299.1 578.1 299.3 579 299.9 580 300.2 580.7 300.7 581.7 300.7 582.7 301 583.4 300.7 584.4 299.3 585.4 297.1 586.3 294.7 587.1 293.3 588 291.1 589 291.1 589.7 294.7 590.7 296 591.7 295.2 592.6 295.2 593.4 294.7 594.3 292.2 595.3 286.1 596 283.1 597 284.8 598 287.8 598.7 288.1 599.7 283.9 600.7 281.2 601.6 283.7 602.4 286.7 603.3 287.8 604.3 284.8 605 280.7 606 278.7 607 277.1 608 276.5 608.7 279.6 609.7 283.1 610.6 279 611.4 271 612.3 273.2 613.3 280.4 614 281.2 615 276.3 616 276.5 616.9 277.6 617.7 275.7 618.6 273.8 619.6 269.9 620.3 264.7 621.3 263.1 622.3 254.6 623.3 250.4 624 250.7 625 253.2 625.9 256.2 626.7 257.9 627.6 261.4 628.6 265.5 629.3 270.5 630.3 272.7 631.3 274.3 632.2 275.7 633 276.8 633.9 278.5 634.9 277.6 635.6 277.9 636.6 278.7 637.6 280.1 638.3 282 639.3 282.8 640.3 283.7 641.2 284.8 642 285.9 642.9 286.4 643.9 285.6 644.6 286.7 645.6 288.1 646.6 289.4 647.5 290.5 648.3 291.4 649.2 291.9 650.2 292.2 650.9 292.2 651.9 289.2 652.9 289.7 653.6 290.5 654.6 292.7 655.6 294.4 656.5 295.2 657.3 296.3 658.2 296.9 659.2 297.7 659.9 298.2 660.9 296.3 661.9 296.9 662.9 298.5 663.6 299.1 664.6 298.8 665.5 297.4 666.3 296.6 667.2 297.1 668.2 295.2 668.9 290.8 669.9 294.9 670.9 296 671.8 296.9 672.6 296.3 673.5 294.4 674.5 296 675.2 296.6 676.2 297.4 677.2 298.8 678.2 299.6 678.9 299.9 679.9 299.6 680.8 298.5 681.6 299.9 682.5 300.2 683.5 300.4 684.2 300.4 685.2 301 686.2 301 687.1 301.3 687.9 301.8 688.8 302.1 689.8 302.4 690.5 302.6 691.5 302.9 692.5 303.2 693.5 303.2 694.2 303.2 695.2 302.1 696.1 302.9 696.9 303.4 697.8 303.4 698.8 303.4 699.5 303.2 700.5 303.2 701.5 300.7 702.4 300.2 703.2 300.4 704.1 301.8 705.1 302.4 705.9 302.6 706.8 303.2 707.8 303.4 708.8 302.9 709.5 303.4 710.5 304 711.4 304.3 712.2 303.2 713.1 301 714.1 302.9 714.8 303.2 715.8 303.4 716.8 303.7 717.8 303.4 718.5 304 719.5 304 720.4 304 721.2 304.3 722.1 304.5 723.1 304.3 723.8 304.3 724.8 304 725.8 302.6 726.7 301.5 727.5 302.4 728.4 302.9 729.4 305.9 72.3 305.9"
        />
      </g>
      <g
        id="yAxisSWE"
        class="brush swe-cb"
      >
        <text
          class="axis-label swe"
          transform="translate(49.5 311.2)"
        >0</text>
        <text
          class="axis-label swe"
          transform="translate(35.4 245.9)"
        >400</text>
        <text
          class="axis-label swe"
          transform="translate(35.4 180.5)"
        >800</text>
        <text
          class="axis-label swe"
          transform="translate(14.3 115.2)"
        >1200 in</text>
      </g>
      <g
        id="yAxisDischarge"
        class="discharge-cb"
      >
        <text
          class="axis-label discharge discharge-title"
          transform="translate(742.7 180.6)"
        >20</text>
        <text
          class="axis-label discharge discharge-title"
          transform="translate(742.7 244.3)"
        >10</text>
        <text
          class="axis-label discharge discharge-title"
          transform="translate(742.7 308)"
        >0</text>
        <text
          class="axis-label discharge discharge-title"
          transform="translate(742.7 111.8)"
        >30 mm<tspan
          x="0"
          y="17.6"
        >per day</tspan></text>
      </g>
      <g
        id="swe-annotations"
        class="brush"
      >
        <g class="annotation swe swe-cb swe-annotation-2011">
          <text
            transform="translate(185 95)"
          >High Peak SWE</text>
          <circle
            class="swe"
            cx="287"
            cy="96"
            r="3"
          />
        </g>
        <g class="annotation swe swe-cb swe-annotation-2011">
          <text
            transform="translate(240 200)"
          >Late SM50</text>
          <circle
            class="swe"
            cx="315"
            cy="200"
            r="3"
          />
        </g>

        <g class="annotation swe swe-cb swe-annotation-2012">
          <text
            transform="translate(445 240)"
          >Low Peak SWE</text>
          <circle
            class="swe"
            cx="549"
            cy="241"
            r="3"
          />
        </g>
        <g class="annotation swe swe-cb swe-annotation-2012">
          <text
            transform="translate(520 270)"
          >Early SM50</text>        
          <circle
            class="swe"
            cx="597"
            cy="272"
            r="3"
          />
        </g>
        
      </g>
      <g
        id="discharge-annotations"
        class="discharge-cb"
      >
        <text
          class="annotation discharge discharge-annotation-2011"
          transform="translate(330 93)"
        >Large spring melt</text>
        <text
          class="annotation discharge discharge-annotation-2012"
          transform="translate(614.8 240)"
        >Small spring melt</text>
      </g>
    </svg>
  </div>
</template>

<script>
import * as d3 from 'd3';
import { ScrollToPlugin } from "gsap/ScrollToPlugin"; // to trigger scroll events
import { ScrollTrigger } from "gsap/ScrollTrigger"; // animated scroll events


export default {
    name: "LineChart",
   
    data() {
        return {
            flowIsActive: true,
            sweIsActive: true,
            publicPath: process.env.BASE_URL, // this is need for the data files in the public folder, this allows the application to find the files when on different deployment roots
            d3: null,
            svg: null, // not sure
            width: null,
            height: null,
            margin: { top: 50, right: 50, bottom: 50, left: 50 },
            timeFormat: "%B",
            x: null,
            y: null,
            selectedYear: null, // this can be selected by a button

            // animation elements
            duration: 1000 // 1 second

        };
    },
    mounted (){
        this.d3 = Object.assign(d3);
        
        //insert resize here
        this.width = window.innerWidth - this.margin.left - this.margin.right;
        this.height = window.innerHeight*.5 - this.margin.top - this.margin.bottom;
        
        this.$nextTick(() => this.animateAreas());
        // load data
        // this.loadData();
    },
    methods: {
        loadData() {
            const self=this;

            // let promises = [self.d3.csv(self.publicPath + "data/swe_and_discharge_data.csv", this.d3.autoType)]
            // Promise.all(promises).then(self.callback);
        },
        animateAreas(){
          const self=this;
          this.$gsap.registerPlugin(ScrollToPlugin, ScrollTrigger); // register gsap plugins for scrollTrigger 

          // Set origins and locations
          this.$gsap.set("#discharge-reveal-rect", {transformOrigin: "100% 0%", width: 0});
          this.$gsap.set("#swe-reveal-rect", {transformOrigin: "100% 0%", width: 0});
          // this.$gsap.set("#discharge-title", {opacity: 0})

          // declare timeline
          let tl = this.$gsap.timeline({
            scrollTrigger: {
              trigger: "#compare-chart",
              toggleActions: "restart none none reset"
            }
          });

          // add animations to the timeline
          // first reveal 2011 swe
          tl.to("#swe-reveal-rect", {duration: 3, width: "39%", ease: "none"}); // reveal area
          // then add 2011 swe annotations
          tl.from(".swe-annotation-2011", { duration: .4, opacity: 0, scale: 0.95, ease: "back", stagger: 1})
          //then do 2011 discharge area
           tl.to("#discharge-reveal-rect", {duration: 2, width: "39%", ease: "none"}); // reveal area
          // then reveal 2011 discharge annotations
            tl.from(".discharge-annotation-2011", { duration: .4, opacity: 0, scale: 0.8, stagger: .5})
          // then brush 2011
          tl.from(".brush", {duration: 1, opacity: 1}); // fade the brushing

          // then reveal 2012 swe
          tl.to("#swe-reveal-rect", {duration: 3, delay: 1, width: "100%", ease: "none"}); // reveal area
          // then add 2012 swe annotations
           tl.from(".swe-annotation-2012", { duration: .4, opacity: 0, scale: 0.95, ease: "back", stagger: 1})
          // then reveal 2012 discharge area
          tl.to("#discharge-reveal-rect", {duration: 2, width: "100%", ease: "none"}); // reveal area
          // then reveal 2012 discharge annotations
          tl.from(".discharge-annotation-2012", { duration: .4, opacity: 0, scale: 0.8, stagger: .5})






          // tl.from(".discharge-title", {duration: 1, delay: 1, opacity: 0});
          // tl.to("#discharge-reveal-rect", {duration: 5, width: "100%"}); // reveal area
        

        },
        showSWE1(){
        if (this.sweIsActive == true){
          this.sweIsActive = false;

          this.d3.selectAll(".swe-cb")
          .transition()
          .delay(100)
          .duration(300)
          .attr("opacity", 0)
        } else if (this.sweIsActive == false){
          this.sweIsActive = true;

          this.d3.selectAll(".swe-cb")
          .transition()
          .delay(100)
          .duration(300)
          .attr("opacity", 0.7)
        }

      },
      showFlow1(){
          if (this.flowIsActive == true){
          this.flowIsActive = false;

          this.d3.selectAll(".discharge-cb")
          .transition()
          .delay(100)
          .duration(300)
          .attr("opacity", 0)
        } else if (this.flowIsActive == false){
          this.flowIsActive = true;

          this.d3.selectAll(".discharge-cb")
          .transition()
          .delay(100)
          .duration(300)
          .attr("opacity", 0.7)
        }
      }
    }
}
</script>

<style lang="scss" scoped>

$strokeOpacity: .5;
$fillOpacity: .3;
$grey: grey;
$blue: dodgerblue;
sup {
  color: white;
  opacity: 1;
}
    svg {
        width: 100%;
        height: 100%;
    }

   .axis-tick, .annotation-line {
        fill: none;
        stroke: #d9d9d9;
        stroke-width: 0.75px;
        stroke-linejoin: round;
      }

    .axis-label {
        font-size: 12px;
        font-weight: 300;
        fill: grey;
    }

    .year-label {
      fill: black;
      font-style: italic;
      opacity: .3;
      font-size: 1.4em;
      z-index: 999;
    }
    // .axis-title {
    //     font-family: SourceSansPro-Black, Source Sans Pro;
    //     font-weight: 800;
    //     fill: #fff;
    //     font-size: 26px;
    // }  

    .area{
        stroke-linejoin: round;
        stroke-linecap: round;
        stroke-width: 1px;
        fill-opacity: $fillOpacity;
    }

    .swe{
        fill: $grey;
    }
  
    .discharge {
        fill: $blue;  
    }

    .swe-area {
      stroke: $grey;
      stroke-opacity: $strokeOpacity;
    }

    .discharge-area {
       stroke: $blue;
      stroke-opacity: $strokeOpacity;
    }

      
    .brush {
        opacity: 0.5;
    }

    .annotation {
        font-size: .8em;
    }

      .hash-line {
        stroke-dasharray: 2px;
        stroke-width: 1px;
        stroke: lightgrey;
        opacity: .3;
      }

// Copy button style from SWEanim
.compare {
  border: 0px solid black;
  display: inline-block;
  width: 80vw;
  max-width: 600px;
  font-size: 18px;
  text-align: center;
  padding: 15px 10px;
  margin: auto;
  position: relative;
  h4{
    margin-bottom: 15px;
  }
}
.butt {
  padding: 5px 10px;
  cursor: pointer;
}

input[name="radiogroup1"] {
            display: none;
        }
         input[name="radiogroup1"]+label {
            /* style passive state as you like */
            border: 2px solid transparent;
            color: black;
            font-weight: 400;
        }

    input[name="radiogroup1"]:checked+label {
        /* style checked state as you like */
        border: 7px solid dodgerblue;
        background-color: dodgerblue;
        color: white;
    }
input[name="checkboxgroup1"] {
            display: none;
        }
         input[name="checkboxgroup1"]+label {
            /* style passive state as you like */
            background-color: rgb(221, 221, 221);
            border: 2px solid transparent;
            color: black;
            font-weight: 400;
            transition: background-color .1s, border .1s;
        }

    input[name="checkboxgroup1"]:checked+label {
        /* style checked state as you like */
        border: 7px solid dodgerblue;
        background-color: dodgerblue;
        color: white;
    }
    input[name="checkboxgroup2"] {
            display: none;
        }
         input[name="checkboxgroup2"]+label {
            /* style passive state as you like */
            background-color: rgb(221, 221, 221);
            border: 2px solid transparent;
            color: black;
            font-weight: 400;
            transition: background-color .1s, border .1s;
        }

    input[name="checkboxgroup2"]:checked+label {
        /* style checked state as you like */
        border: 7px solid grey;
        background-color: grey;
        color: white;
    }
    
@media screen and (min-width: 650px){
  .compare{
    width: 100%;
    max-width: 600px;
    padding: 5px 5px;
    .btn-group{
      display: flex;
      align-items: center;
      .inputsContainer{
        flex: 2;
        position: relative;
        display: flex;
        align-items: center;
        justify-content: space-between;
        .inputs{
          position: absolute;
          left: 10px;
          .butt{
            margin-right: 10px;
          }
          .butt:last-child{
            margin-right: 0;
          }
        }
      }
      #mmd-container-both {
        width: 90vw;
        max-width: 1200px;
        margin: auto;
      }
      h4{
        flex: 1;
        margin-bottom: 0;
      }
    }
  } 
}
 
</style>

